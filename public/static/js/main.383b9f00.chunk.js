(this["webpackJsonpreact-project"]=this["webpackJsonpreact-project"]||[]).push([[0],{43:function(e,t,a){e.exports=a(73)},48:function(e,t,a){},49:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),s=a.n(o),c=(a(48),a(49),a(15)),i=a(38),u=a(9),l=a(42),p=a(2),d=a.n(p),v=a(11),E=a(12),m=a.n(E);function S(e){return{type:"ADD_TRIVIA",payload:e}}var _={saved:Object.keys(window.localStorage).map((function(e){return window.localStorage.getItem(e)})).sort(),events:[],births:[],deaths:[],film:[],music:[],sports:[],currentNews:[],sportsNews:[],randomQuestion:"",randomAnswer:""};var f=a(7),h=a(13),T=a(10),O=a(19),y=a(20),b=a(22),w=a(21),I=a(23),g=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(b.a)(this,Object(w.a)(t).call(this,e)))._handleToggle=function(e){a.setState({topic:e})},a._updateSaved=function(e){a.setState({saved:[].concat(Object(u.a)(a.state.saved),[e])})},a.state={topic:"",optionsList:["Events","Births","Deaths","Film","Music","Sports"],saved:Object(u.a)(a.props.saved)},a}return Object(I.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.events.length||this.props.getTrivia()}},{key:"render",value:function(){var e=this,t=this.state.topic,a=this.props,n=a.handleSelect,o=a.saved,s=t&&"--"!==t?this.props[t.toLowerCase()].map((function(t,a){var s=o.includes(t)?"Saved":"Save";return r.a.createElement("li",{className:"trivia",key:a+"A"},r.a.createElement("button",{className:s,onClick:function(){n(t),e._updateSaved(t)}},s),r.a.createElement("p",null,t))})):"",c=this.state.optionsList.map((function(t,a){return r.a.createElement("li",{key:a+"C"},r.a.createElement("input",{type:"radio",id:t,name:"triviaType",value:t}),r.a.createElement("label",{onClick:function(){return e._handleToggle(t)},htmlFor:t},t))}));return r.a.createElement("div",{id:"today"},r.a.createElement("ul",{className:"radioToolbar"},c),r.a.createElement("ul",null,s))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.saved!==t.saved?{saved:e.saved}:t}}]),t}(r.a.Component);var A=Object(f.b)((function(e){return{events:e.events,births:e.births,deaths:e.deaths,film:e.film,music:e.music,sports:e.sports,saved:e.saved}}),(function(e){return{handleSelect:function(t){e(S(t))},getTrivia:function(){e(function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n,r,o,s,c,i,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Date,n=["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()]+" "+a.getDate(),r="https://en.wikipedia.org/w/api.php?origin=*&format=json&action=query&prop=extracts&titles=".concat(n),e.next=6,m.a.get(r);case 6:for(o=e.sent,s=Object.keys(o.data.query.pages)[0],c=o.data.query.pages[s].extract.split("<h2>"),i=[[],[],[]],u=0;u<i.length;u++)l=i[u],(l=c[u+1].split("</li>").map((function(e){return e.slice(5)})))[0]=l[0].split("<li>")[1],l=l.slice(0,l.length-2),i[u]=l;t({type:"SET_TRIVIA_BIRTHS_DEATHS_EVENTS",payload:{births:(p={events:i[0],births:i[1],deaths:i[2]}).births,deaths:p.deaths,events:p.events}});case 12:case"end":return e.stop()}var p}),e)})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.apify.com/v2/actor-tasks/NHADsLTRDGnTZJhPu/runs/last/dataset/items?token=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_APIFY_KEY),e.next=3,m.a.get(a);case 3:n=e.sent,t({type:"SET_TRIVIA_FILM",payload:n.data[0].linkData});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.apify.com/v2/actor-tasks/QjL2MXmqzG6zHXaGr/runs/last/dataset/items?token=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_APIFY_KEY),e.next=3,m.a.get(a);case 3:n=e.sent,t({type:"SET_TRIVIA_MUSIC",payload:n.data[0].musicData});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.apify.com/v2/actor-tasks/J5K8SwHCw5kWjSdPb/runs/last/dataset/items?token=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_APIFY_KEY),e.next=3,m.a.get(a);case 3:n=e.sent,t({type:"SET_TRIVIA_SPORTS",payload:n.data[0].linkData});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(g);var N=Object(f.b)((function(e){return{triviaList:e.saved}}),(function(e){return{handleDelete:function(t,a){e(function(e,t){return{type:"DEL_TRIVIA",payload:{id:e,text:t}}}(t,a))},handleReset:function(){return e({type:"RESET_TRIVIA"})}}}))((function(e){var t=e.triviaList,a=e.handleDelete,n=e.handleReset,o=t?t.map((function(e,t){return r.a.createElement("li",{className:"trivia",key:t+"D"},r.a.createElement("button",{onClick:function(){return a(t,e)}},"Delete")," ",e)})):[];return r.a.createElement("div",{id:"saved"},r.a.createElement("button",{onClick:n},"Reset Saved Trivia"),r.a.createElement("h2",null,"Saved Items"),r.a.createElement("ul",null,o))})),R=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(b.a)(this,Object(w.a)(t).call(this,e)))._handleToggle=function(e){a.setState({topic:e})},a._updateSaved=function(e){a.setState({saved:[].concat(Object(u.a)(a.state.saved),[e])})},a.state={topic:"",optionsList:["currentNews","sportsNews"],saved:Object(u.a)(a.props.saved)},a}return Object(I.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentNews,a=e.sportsNews,n=e.getCurrentNews,r=e.getSportsNews;t.length||n(),a.length||r()}},{key:"render",value:function(){var e=this,t=this.props,a=t.handleSelect,n=t.saved,o=this.state.topic,s=o?this.props[o].map((function(t,o){var s=n.includes(t.title)?"Saved":"Save";return r.a.createElement("li",{key:o+"E",className:"trivia"},r.a.createElement("button",{className:s,onClick:function(){a(t.title),e._updateSaved(t.title)}},s),r.a.createElement("a",{href:t.url,rel:"noopener noreferrer",target:"_blank"}," ",t.title))})):"",c=this.state.optionsList.map((function(t,a){var n="sportsNews"===t?"Sports":"currentNews"===t?"U.S.":"";return r.a.createElement("li",{key:a+"C"},r.a.createElement("input",{type:"radio",id:t,name:"triviaType",value:t}),r.a.createElement("label",{onClick:function(){return e._handleToggle(t)},htmlFor:t},n))}));return r.a.createElement("div",{id:"news"},r.a.createElement("ul",{className:"radioToolbar"},c),r.a.createElement("ul",null,s),s.length>0?r.a.createElement("footer",null,"Powered by NewsApi.Org"):"")}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.saved!==t.saved?{saved:e.saved}:t}}]),t}(r.a.Component);var k=Object(f.b)((function(e){return{currentNews:e.currentNews,sportsNews:e.sportsNews,saved:e.saved}}),(function(e){return{handleSelect:function(t){e(S(t))},getCurrentNews:function(){return e(function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://newsapi.org/v2/top-headlines?country=us&category=sports&apiKey=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_newsAPI_KEY),e.next=3,m.a.get(a);case 3:n=e.sent,t({type:"SET_TRIVIA_CURRENTNEWS",payload:n.data.articles});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getSportsNews:function(){return e(function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://newsapi.org/v2/top-headlines?country=us&apiKey=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_newsAPI_KEY),e.next=3,m.a.get(a);case 3:n=e.sent,t({type:"SET_TRIVIA_SPORTSNEWS",payload:n.data.articles});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(R);function C(){return r.a.createElement("ul",{id:"nav"},r.a.createElement("div",{className:"pictureFrame"},r.a.createElement("img",{src:"/study.png",alt:"logo"})),r.a.createElement(h.b,{to:"/"},"Home"),r.a.createElement(h.b,{to:"/today"},"Today in History"),r.a.createElement(h.b,{to:"/news"},"News"),r.a.createElement(h.b,{to:"/saved"},"Saved"))}var D=a(41);var P=Object(f.b)((function(e){return{question:e.randomQuestion,answer:e.randomAnswer}}),(function(e){return{getQuestionAnswer:function(){return e(function(){var e=Object(v.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.apify.com/v2/actor-tasks/7GCxpRZuB3myEffh6/runs/last/dataset/items?token=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_APIFY_KEY),e.next=3,m.a.get(a);case 3:n=e.sent,t({type:"SET_QUESTION_ANSWER",payload:[n.data[0].question[0],n.data[0].answer[0]]});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.question,a=e.answer,o=e.getQuestionAnswer,s=Object(n.useState)(!1),c=Object(D.a)(s,2),i=c[0],u=c[1];return Object(n.useEffect)((function(){o()})),r.a.createElement("div",{id:"home"},r.a.createElement("div",{id:"overlay"},r.a.createElement("h1",null,"Trivia Study Guide"),r.a.createElement("h2",null,"Your guide to acing trivia"),r.a.createElement("p",null,t),i?r.a.createElement("p",null,a):r.a.createElement("p",{onClick:function(){return u(!0)}},"Click Here To See Answer")))})),j=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.c,K=Object(c.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,a=Object(l.a)({},e);switch(t.type){case"ADD_TRIVIA":if(a.saved.includes(t.payload))break;a.saved.push(t.payload),window.localStorage.setItem(t.payload,t.payload);break;case"DEL_TRIVIA":var n=Object(u.a)(a.saved);n.splice(t.payload.id,1),a.saved=n,window.localStorage.removeItem(t.payload.text);break;case"RESET_TRIVIA":a.saved=[],window.localStorage.clear();break;case"SET_TRIVIA_BIRTHS_DEATHS_EVENTS":a.events=t.payload.events,a.births=t.payload.births,a.deaths=t.payload.deaths;break;case"SET_TRIVIA_FILM":a.film=t.payload;break;case"SET_TRIVIA_MUSIC":a.music=t.payload;break;case"SET_TRIVIA_SPORTS":a.sports=t.payload;break;case"SET_TRIVIA_SPORTSNEWS":a.sportsNews=t.payload;break;case"SET_TRIVIA_CURRENTNEWS":a.currentNews=t.payload;break;case"SET_QUESTION_ANSWER":a.randomQuestion=t.payload[0],a.randomAnswer=t.payload[1]}return a}),j(Object(c.a)(i.a)));var V=function(){return r.a.createElement(f.a,{store:K},r.a.createElement(h.a,null,r.a.createElement(C,null),r.a.createElement(T.c,null,r.a.createElement(T.a,{exact:!0,path:"/",component:P}),r.a.createElement(T.a,{path:"/today",component:A}),r.a.createElement(T.a,{path:"/saved",component:N}),r.a.createElement(T.a,{path:"/news",component:k}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.383b9f00.chunk.js.map